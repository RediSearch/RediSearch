#pragma once

/* Warning, this file is autogenerated by cbindgen from `src/redisearch_rs/c_entrypoint/query_term_ffi/build.rs`. Don't modify it manually. */

#include <stdarg.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include "redisearch.h"

#ifdef __cplusplus
extern "C" {
#endif // __cplusplus

/**
 * Creates a new query term from a token.
 *
 * # Safety
 *
 * The following invariants must be upheld when calling this function:
 * - `tok` must either be NULL or point to a valid `RSToken`.
 * - If `tok->str` is not NULL, it must point to a valid memory region of at least `tok->len` bytes.
 * - The Redis allocator must be initialized before calling this function.
 *
 * # Returns
 *
 * A pointer to a newly allocated `RSQueryTerm`, or NULL if allocation fails.
 * The caller is responsible for freeing this memory using [`Term_Free`].
 */
RSQueryTerm *NewQueryTerm(const RSToken *tok, int32_t id);

/**
 * Frees a query term allocated by [`NewQueryTerm`].
 *
 * # Safety
 *
 * The following invariants must be upheld when calling this function:
 * - `t` must either be NULL or point to a valid `RSQueryTerm` allocated by [`NewQueryTerm`].
 * - The Redis allocator must be initialized before calling this function.
 * - `t` must not be used after calling this function.
 */
void Term_Free(RSQueryTerm *t);

#ifdef __cplusplus
}  // extern "C"
#endif  // __cplusplus
