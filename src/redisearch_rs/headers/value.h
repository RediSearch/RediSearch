#ifndef value_h
#define value_h

/* Warning, this file is autogenerated by cbindgen from `src/redisearch_rs/c_entrypoint/value_ffi/build.rs. Don't modify it manually. */

#include <stdarg.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include "redismodule.h"
#include "query_error.h"

#define RSValueSize 16

/**
 * Enumeration of the types an
 * `RsValue` can be of.
 */
typedef enum RSValueType {
  RSValueType_Undef = 0,
  RSValueType_Number = 1,
  RSValueType_String = 2,
  RSValueType_Null = 3,
  RSValueType_RedisString = 4,
  RSValueType_Array = 5,
  RSValueType_Reference = 6,
  RSValueType_Trio = 7,
  RSValueType_Map = 8,
} RSValueType;

/**
 * An actual [`RsValue`] object
 */
typedef struct RSValue RSValue;

#ifdef __cplusplus
extern "C" {
#endif // __cplusplus

struct RSValue **RSValue_AllocateArray(uintptr_t len);

struct RSValue *RSValue_NewArray(struct RSValue **vals, uint32_t len);

uint32_t RSValue_ArrayLen(const struct RSValue *value);

struct RSValue *RSValue_ArrayItem(const struct RSValue *value, uint32_t index);

int RSValue_Cmp(const struct RSValue *v1, const struct RSValue *v2, QueryError *status);

int RSValue_Equal(const struct RSValue *v1, const struct RSValue *v2, QueryError *status);

int RSValue_BoolTest(const struct RSValue *value);

struct RSValue *RSValue_NewUndefined(void);

struct RSValue *RSValue_NewNull(void);

struct RSValue *RSValue_NullStatic(void);

struct RSValue *RSValue_NewNumber(double value);

struct RSValue *RSValue_NewRedisString(const RedisModuleString *str);

struct RSValue *RSValue_NewCopiedString(const char *str, uint32_t len);

struct RSValue *RSValue_NewReference(const struct RSValue *src);

struct RSValue *RSValue_NewParsedNumber(const char *value, uint32_t len);

struct RSValue *RSValue_NewNumberFromInt64(int64_t number);

struct RSValue *RSValue_NewTrio(struct RSValue *left,
                                struct RSValue *middle,
                                struct RSValue *right);

uint64_t RSValue_Hash(const struct RSValue *v, uint64_t hval);

void *RSValueMap_AllocUninit(uint32_t len);

void RSValueMap_SetEntry(void *map, uint32_t index, struct RSValue *key, struct RSValue *value);

struct RSValue *RSValue_NewMap(void *map, uint32_t len);

uint32_t RSValue_Map_Len(const struct RSValue *map);

void RSValue_Map_GetEntry(const struct RSValue *map,
                          uint32_t index,
                          struct RSValue **key,
                          struct RSValue **value);

struct RSValue *RSValue_Dereference(const struct RSValue *value);

void RSValue_Clear(const struct RSValue *value);

struct RSValue *RSValue_IncrRef(const struct RSValue *value);

void RSValue_DecrRef(const struct RSValue *value);

void RSValue_MakeReference(const struct RSValue *dst, const struct RSValue *src);

void RSValue_MakeOwnReference(const struct RSValue *dst, const struct RSValue *src);

void RSValue_Replace(struct RSValue **dstpp, const struct RSValue *src);

double RSValue_Number_Get(const struct RSValue *value);

uintptr_t RSValue_Refcount(const struct RSValue *value);

const struct RSValue *RSValue_Trio_GetLeft(const struct RSValue *value);

const struct RSValue *RSValue_Trio_GetMiddle(const struct RSValue *value);

const struct RSValue *RSValue_Trio_GetRight(const struct RSValue *value);

void RSValue_SetNumber(struct RSValue *value, double n);

void RSValue_SetNull(struct RSValue *value);

const RedisModuleString *RSValue_RedisString_Get(const struct RSValue *value);

int RSValue_ToNumber(const struct RSValue *value, double *d);

const char *RSValue_ConvertStringPtrLen(const struct RSValue *value,
                                        size_t *len_ptr,
                                        char *buf,
                                        size_t buflen);

const char *RSValue_StringPtrLen(const struct RSValue *value, size_t *len_ptr);

void RSValue_ToString(const struct RSValue *dst, const struct RSValue *value);

size_t RSValue_NumToString(const struct RSValue *value, char *buf, size_t buflen);

void RSValue_SetString(const struct RSValue *value, char *str, size_t len);

void RSValue_SetConstString(const struct RSValue *value, const char *str, size_t len);

sds RSValue_DumpSds(const struct RSValue *value, sds sds, bool obfuscate);

struct RSValue *RSValue_NewString(char *str, uint32_t len);

struct RSValue *RSValue_NewConstString(const char *str, uint32_t len);

char *RSValue_String_Get(const struct RSValue *value, uint32_t *lenp);

enum RSValueType RSValue_Type(const struct RSValue *value);

bool RSValue_IsReference(const struct RSValue *value);

bool RSValue_IsNumber(const struct RSValue *value);

bool RSValue_IsString(const struct RSValue *value);

bool RSValue_IsArray(const struct RSValue *value);

bool RSValue_IsTrio(const struct RSValue *value);

bool RSValue_IsNull(const struct RSValue *value);

#ifdef __cplusplus
}  // extern "C"
#endif  // __cplusplus

#endif  /* value_h */
