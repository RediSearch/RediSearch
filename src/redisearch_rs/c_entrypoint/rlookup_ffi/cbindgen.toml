language = "C"
autogen_warning = "/* Warning, this file is auto-generated by cbindgen from `src/redisearch_rs/c_entrypoint/rlookup_ffi/build.rs. Don't modify it manually. */"
cpp_compat = true
pragma_once = true
after_includes = """
// Required to ensure that the alignment declared by cbindgen is respected on
// the C/C++ side.
#define ALIGNED(n) __attribute__((aligned(n)))

// forward declarations for bitflags type names
typedef uint32_t RLookupKeyFlags;
typedef uint32_t RLookupOptions;

typedef struct RLookup {
  struct RLookupKey *head;
  struct RLookupKey *tail;
  // Length of the data row. This is not necessarily the number
  // of lookup keys
  uint32_t rowlen;
  // Flags/options
  uint32_t options;
  // If present, then GetKey will consult this list if the value is not found in
  // the existing list of keys.
  IndexSpecCache *spcache;
} RLookup;

// forward declarations for types that are only used as a pointer
typedef struct RSValue RSValue;
"""

[layout]
aligned_n = "ALIGNED"

[defines]
debug_assertions = "RUST_DEBUG"

[parse]
parse_deps = true
include = ["rlookup"]

#[parse.expand]
#crates = ["rlookup_ffi"]

#[export]
#include = ["RLookupKeyFlag", "RLookupOption", "RLookupKey"]
#exclude = ["Option_IndexSpecCache", "Option_Cow_CStr", "RLookupId", "RLookup"]

[export.rename]
#"KeyList" = "RLookup"
"RLookupKeyHeader" = "RLookupKey"
"OpaqueRLookupRow" = "RLookupRow"
