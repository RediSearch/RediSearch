name: "ftsb-1M-enwiki_abstract-hashes-load"
description: "
             enwiki-abstract [details here](https://github.com/RediSearch/ftsb/blob/master/docs/enwiki-abstract-benchmark/description.md),
             from English-language Wikipedia:Database page abstracts.
             This use case generates 3 TEXT fields per document, and focusses on full text queries performance.
             Specifically for this testcase:
                - Type (read/write/mixed): write
                - Query type: N/A
                - Query sample: N/A

              This use case aims to test how much the _SLOTS_INFO serialization/deserialization affects performance when the hash slot info is of max length (ranges of one slot (odd and even hash slots in different shards))

             "

metadata:
  component: "search"
setups:
  - oss-cluster-02-primaries
  - oss-cluster-04-primaries
  - oss-cluster-08-primaries

dbconfig:
  - init_commands:
      - '"FT.CREATE" "enwiki_abstract" "ON" "HASH" "SCHEMA" "title" "text" "SORTABLE" "url" "text" "SORTABLE" "abstract" "text" "SORTABLE"'
  - pre_run_commands:
      - "MOVE commands to distribute the hash slots between all the nodes (even and odd slots in different shards)"
clientconfig:
  - tool: ftsb_redisearch
  - parameters:
    - workers: 64
    - reporting-period: 1s
    - input: "https://s3.amazonaws.com/benchmarks.redislabs/redisearch/datasets/1M-enwiki_abstract-hashes/1M-enwiki_abstract-hashes.redisearch.commands.SETUP.csv"
