version: 0.5
name: "search-msmarco-6M-documents-baseline-query-fast"
description: "MS MARCO - Fast smoke test for single-word queries on 100K docs"

metadata:
  component: "search"
  dataset: "MS MARCO document-v2"
  use_case: "Fast validation benchmark"

timeout_seconds: 300
dataset_load_timeout_secs: 600

setups:
  - oss-cluster-08-primaries

dbconfig:
  - dataset_name: "msmarco-6M-documents-fast"
  - init_commands:
    - '"FT.CREATE" "ms_marco_idx" "ON" "HASH" "PREFIX" "1" "doc:" "SCHEMA" "url" "TEXT" "title" "TEXT" "WEIGHT" "2.0" "headings" "TEXT" "WEIGHT" "1.5" "body" "TEXT" "tags" "TAG" "SEPARATOR" ","'
  - tool: ftsb_redisearch
  - parameters:
    - workers: 64
    - reporting-period: 5s
    - requests: 100000
    - input: "https://s3.amazonaws.com/benchmarks.redislabs/redisearch/datasets/6M-msmarco-documents/6M-msmarco-documents.redisearch.commands.SETUP.100k.csv"
  - check:
      keyspacelen: 100000
clientconfig:
  - benchmark_type: "read-only"
  - tool: ftsb_redisearch
  - parameters:
    - workers: 32
    - requests: 10000
    - reporting-period: 1s
    - duration: 60s
    - input: "https://s3.amazonaws.com/benchmarks.redislabs/redisearch/datasets/6M-msmarco-documents/6M-msmarco-documents.redisearch.commands.BENCH.QUERY_baseline.csv"

