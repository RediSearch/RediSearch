name: Check code format standards

on:
    workflow_call:

jobs:
    check-format:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v4
            with:
                fetch-depth: 0 # required for changed-files action to work
          - name: Install clang-format:
            run: |
              sudo apt-get update
              sudo apt-get install -y clang-format
          - name: Install python formatters
            run: pip install -r .py-formatters-requirmenets.txt
          - name: clang-format version
            run: clang-format --version
          - name: Check code format
            run: ./check-format.sh
